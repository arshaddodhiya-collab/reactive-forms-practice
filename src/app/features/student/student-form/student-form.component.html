<p-card header="Student Registration Form">

    <form [formGroup]="studentForm" (ngSubmit)="submit()">

        <div class="p-fluid p-formgrid p-grid">

            <!-- First Name -->
            <div class="p-field p-col-12 p-md-4">
                <input pInputText placeholder="First Name" formControlName="firstName" />

                @if (studentForm.get('firstName')?.touched &&
                studentForm.get('firstName')?.invalid) {
                <small class="p-error">
                    First Name is required (min 2 characters)
                </small>
                }
            </div>

            <!-- Middle Name -->
            <div class="p-field p-col-12 p-md-4">
                <input pInputText placeholder="Middle Name" formControlName="middleName" />
            </div>

            <!-- Last Name -->
            <div class="p-field p-col-12 p-md-4">
                <input pInputText placeholder="Last Name" formControlName="lastName" />

                @if (studentForm.get('lastName')?.touched &&
                studentForm.get('lastName')?.invalid) {
                <small class="p-error">
                    Last Name is required (min 2 characters)
                </small>
                }
            </div>

            <!-- DOB -->
            <div class="p-field p-col-12 p-md-6">
                <p-calendar formControlName="dob" [showIcon]="true"></p-calendar>

                @if (studentForm.get('dob')?.touched &&
                studentForm.get('dob')?.invalid) {
                <small class="p-error">
                    Date of Birth is required
                </small>
                }
            </div>

            <!-- Student ID -->
            <div class="p-field p-col-12 p-md-6">
                <input pInputText placeholder="Student ID" formControlName="studentId" />

                @if (studentForm.get('studentId')?.touched &&
                studentForm.get('studentId')?.invalid) {
                <small class="p-error">
                    Student ID is required
                </small>
                }
            </div>

            <!-- Email -->
            <div class="p-field p-col-12 p-md-6">
                <input pInputText type="email" placeholder="Email" formControlName="email" />

                @if (studentForm.get('email')?.touched &&
                studentForm.get('email')?.invalid) {
                <small class="p-error">
                    Enter a valid email
                </small>
                }
            </div>

            <!-- Course -->
            <div class="p-field p-col-12 p-md-6">
                <p-dropdown formControlName="course" [options]="courses" optionLabel="label" optionValue="value"
                    placeholder="Select Course">
                </p-dropdown>

                @if (studentForm.get('course')?.touched &&
                studentForm.get('course')?.invalid) {
                <small class="p-error">
                    Please select a course
                </small>
                }
            </div>

        </div>

        <button pButton type="submit" label="Submit" [disabled]="studentForm.invalid"></button>

    </form>
</p-card>

<!-- ğŸ”¥ DETAILS SECTION (same page, after submit) -->
@if (submittedStudent) {
<p-card header="Student Details" class="p-mt-4">

    <p><b>Name:</b>
        {{ submittedStudent.firstName }}
        {{ submittedStudent.middleName }}
        {{ submittedStudent.lastName }}
    </p>

    <p><b>DOB:</b> {{ submittedStudent.dob | date }}</p>
    <p><b>Student ID:</b> {{ submittedStudent.studentId }}</p>
    <p><b>Email:</b> {{ submittedStudent.email }}</p>
    <p><b>Course:</b> {{ submittedStudent.course }}</p>

</p-card>
}